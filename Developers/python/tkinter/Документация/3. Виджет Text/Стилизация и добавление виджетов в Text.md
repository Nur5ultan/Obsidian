### Добавление тегов

Теги позволяют определить форматирование. Тег добавляется с помощью метода add\_tag() класса Text:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">tag_add(tagName, index1, index2)</code></div></div></td></tr></tbody></table>

Первый параметр устанавливает имя тега, второй параметр - index1 указывает на начальный символ, с которого начинает применяться тег. Дополнительно (но необязательно) можно указать третий параметр, который устанавливает конечный символ, к которому применяется тег.

Для прикрепления тега к определенному тексту также можно использовать метод insert, который добавляет текст, и в качестве второго параметра передать тег или набор тегов, которые будут применяться к добавляемому тексту:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">insert(index, text, tagName)</code></div><div class="line number2 index1 alt1"><code class="py plain">insert(index, text, (tagName1, tagName2,...tagNameN))</code></div></div></td></tr></tbody></table>

С помощью метода tag\_configure() для тега можно сконфигурировать стили.

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">tag_configure(имя_тега, стили)</code></div></div></td></tr></tbody></table>

Стили представляют параметры background, bgstipple, borderwidth, elide, fgstipple, font, foreground, justify, lmargin1, lmargin2, offset, overstrike, relief, rmargin, spacing1, spacing2, spacing3, tabs, tabstyle, underline и wrap, которым передаются некоторые значения.

Посмотрим на примере:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number4 index3 alt1"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number5 index4 alt2"><code class="py plain">root.geometry(</code><code class="py string">"250x200"</code><code class="py plain">)</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="py plain">editor </code><code class="py keyword">=</code> <code class="py plain">Text(wrap </code><code class="py keyword">=</code> <code class="py string">"none"</code><code class="py plain">)</code></div><div class="line number8 index7 alt1"><code class="py plain">editor.pack(expand</code><code class="py keyword">=</code><code class="py value">1</code><code class="py plain">, fill</code><code class="py keyword">=</code><code class="py plain">BOTH)</code></div><div class="line number9 index8 alt2"><code class="py plain">editor.insert(</code><code class="py string">"1.0"</code><code class="py plain">,</code><code class="py string">"Hello "</code><code class="py plain">)</code></div><div class="line number10 index9 alt1"><code class="py comments"># создаем тег highlightline и прикрепляем его к символам 1.0 до 1.2</code></div><div class="line number11 index10 alt2"><code class="py plain">editor.tag_add(</code><code class="py string">"highlightline"</code><code class="py plain">, </code><code class="py string">"1.0"</code><code class="py plain">, </code><code class="py string">"1.2"</code><code class="py plain">)</code></div><div class="line number12 index11 alt1"><code class="py comments"># добавляем текст, к которому применяется тег highlightline</code></div><div class="line number13 index12 alt2"><code class="py plain">editor.insert(</code><code class="py string">"end"</code><code class="py plain">,</code><code class="py string">"World"</code><code class="py plain">, </code><code class="py string">"highlightline"</code><code class="py plain">)</code></div><div class="line number14 index13 alt1"><code class="py plain">editor.insert(</code><code class="py string">"end"</code><code class="py plain">,</code><code class="py string">"\nHello All!"</code><code class="py plain">)</code></div><div class="line number15 index14 alt2"><code class="py comments"># устанавливаем стили тега highlightline</code></div><div class="line number16 index15 alt1"><code class="py plain">editor.tag_configure(</code><code class="py string">"highlightline"</code><code class="py plain">, background</code><code class="py keyword">=</code><code class="py string">"#ccc"</code><code class="py plain">, foreground</code><code class="py keyword">=</code><code class="py string">"red"</code><code class="py plain">, font</code><code class="py keyword">=</code><code class="py string">"TkFixedFont"</code><code class="py plain">, relief</code><code class="py keyword">=</code><code class="py string">"raised"</code><code class="py plain">)</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

Здесь создается тег "highlightline", который прикрепляется сначала по 2-й символ в первой строке. Далее добавляется текст "World", к которму применяется данный тег. В конце конфигурируем тег, задавая его стилевые параметры:

![Теги в Text в Tkinter и Python](https://metanit.com/python/tkinter/3.3.php./pics/2.64.png)

Если в процессе работы программы тег стал не нужен, его можно удалить. Метод remove\_tag() удаляет тег с определенных символов:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">editor.tag_remove(</code><code class="py string">"highlightline"</code><code class="py plain">, </code><code class="py string">"1.0"</code><code class="py plain">, </code><code class="py string">"1.2"</code><code class="py plain">)</code></div></div></td></tr></tbody></table>

В данном случае удаляем тег "highlightline" с символов с 0 по 2-й в первой строке.

Также можно вообще удалить тег со всех символов, к которым он применяется:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">editor.tag_delete(</code><code class="py string">"highlightline"</code><code class="py plain">)</code></div></div></td></tr></tbody></table>

### Добавление изображений и других виджетов

Виджет Text позволяет добавление изображений и других виджетов.

Для добавления изображений применяется метод image\_create:

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number4 index3 alt1"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number5 index4 alt2"><code class="py plain">root.geometry(</code><code class="py string">"250x200"</code><code class="py plain">)</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="py plain">editor </code><code class="py keyword">=</code> <code class="py plain">Text()</code></div><div class="line number8 index7 alt1"><code class="py plain">editor.pack(expand</code><code class="py keyword">=</code><code class="py value">1</code><code class="py plain">, fill</code><code class="py keyword">=</code><code class="py plain">BOTH)</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="py plain">python_img </code><code class="py keyword">=</code> <code class="py plain">PhotoImage(</code><code class="py functions">file</code><code class="py keyword">=</code><code class="py string">"python_sm.png"</code><code class="py plain">)</code></div><div class="line number11 index10 alt2"><code class="py plain">editor.image_create(</code><code class="py string">"1.0"</code><code class="py plain">, image</code><code class="py keyword">=</code><code class="py plain">python_img)</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

В метод image\_create в качестве первого параметра передается позиция вставки изображения. В качестве второго параметра - image указывается файл изображения:

![Добавление изображения в виджет Text в Tkinter и Python](https://metanit.com/python/tkinter/3.3.php./pics/2.67.png)

Аналогично можно добавлять другие виджеты в Text с помощью метода `window_create()`

[?](https://metanit.com/python/tkinter/3.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py plain">ttk</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number5 index4 alt2"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number6 index5 alt1"><code class="py plain">root.geometry(</code><code class="py string">"250x200"</code><code class="py plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="py plain">editor </code><code class="py keyword">=</code> <code class="py plain">Text()</code></div><div class="line number9 index8 alt2"><code class="py plain">editor.pack(expand</code><code class="py keyword">=</code><code class="py value">1</code><code class="py plain">, fill</code><code class="py keyword">=</code><code class="py plain">BOTH)</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="py keyword">def</code> <code class="py plain">click():</code></div><div class="line number12 index11 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">editor.insert(</code><code class="py string">"2.0"</code><code class="py plain">, </code><code class="py string">"Click\n"</code><code class="py plain">)</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="py plain">btn </code><code class="py keyword">=</code> <code class="py plain">ttk.Button(editor, text</code><code class="py keyword">=</code><code class="py string">"Click"</code><code class="py plain">, command</code><code class="py keyword">=</code><code class="py plain">click)</code></div><div class="line number15 index14 alt2"><code class="py plain">editor.window_create(</code><code class="py string">"1.0"</code><code class="py plain">, window</code><code class="py keyword">=</code><code class="py plain">btn)</code></div><div class="line number16 index15 alt1"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

Первый параметр метода `window_create` также позиция создания виджета, а второй параметр - window указывает на добавляемый виджет, в данном случае это кнопка, на которую также можно нажимать и также можно обрабатывать ее нажатия