Одной из примечательных особенностей Tkinter является то, что он позволяет привязать к ряду виджетов переменные определенных типов. При изменении значения виджета автоматически будет изменяться и значение привязанной переменной. Для привязки может использоваться переменная следующих типов:

-   StringVar
    
-   IntVar
    
-   BooleanVar
    
-   DoubleVar
    

Простейший пример:

[?](https://metanit.com/python/tkinter/2.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py plain">ttk</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number5 index4 alt2"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number6 index5 alt1"><code class="py plain">root.geometry(</code><code class="py string">"250x150"</code><code class="py plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="py plain">message </code><code class="py keyword">=</code> <code class="py plain">StringVar()</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="py plain">label </code><code class="py keyword">=</code> <code class="py plain">ttk.Label(textvariable</code><code class="py keyword">=</code><code class="py plain">message)</code></div><div class="line number11 index10 alt2"><code class="py plain">label.pack(anchor</code><code class="py keyword">=</code><code class="py plain">NW, padx</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">, pady</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">)</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="py plain">entry </code><code class="py keyword">=</code> <code class="py plain">ttk.Entry(textvariable</code><code class="py keyword">=</code><code class="py plain">message)</code></div><div class="line number14 index13 alt1"><code class="py plain">entry.pack(anchor</code><code class="py keyword">=</code><code class="py plain">NW, padx</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">, pady</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">)</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="py plain">button </code><code class="py keyword">=</code> <code class="py plain">ttk.Button(textvariable</code><code class="py keyword">=</code><code class="py plain">message)</code></div><div class="line number17 index16 alt2"><code class="py plain">button.pack(side</code><code class="py keyword">=</code><code class="py plain">LEFT, anchor</code><code class="py keyword">=</code><code class="py plain">N, padx</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">, pady</code><code class="py keyword">=</code><code class="py value">6</code><code class="py plain">)</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

В данном случае определяется переменная message, которая представляет класс `StringVar`, то есть такая переменная, которая хранит некоторую строку.

С помощью параметра textvariable эта переменная привязана к тексту поля Entry, а также к тексту кнопки и метки:

[?](https://metanit.com/python/tkinter/2.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">ttk.Label(textvariable</code><code class="py keyword">=</code><code class="py plain">message)</code></div></div></td></tr></tbody></table>

И если мы изменим текст в поле Entry, автоматически синхронно изменится и значение привязанной переменной message. а поскольку к этой переменной также привязаны кнопка и метка, то автоматически также изменится текст метки и кнопки.

![Привязка переменной StringVar к виджету в Tkinter и Python](https://metanit.com/python/tkinter/2.3.php./pics/2.35.png)

Типы имеют параметр value, который позволяет установить значение по умолчанию. Кроме того, они имеют два метода:

-   get(): возвращает значение
    
-   set(value): устанавливает значение, которое передано через параметр
    

Применим эти методы. Например, мы могли бы установить привязку к переменной IntVar и выводить количество кликов:

[?](https://metanit.com/python/tkinter/2.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py plain">ttk</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="py keyword">def</code> <code class="py plain">click_button():</code></div><div class="line number5 index4 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">value </code><code class="py keyword">=</code> <code class="py plain">clicks.get()&nbsp;&nbsp;&nbsp; </code><code class="py comments"># получаем значение</code></div><div class="line number6 index5 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">clicks.</code><code class="py functions">set</code><code class="py plain">(value </code><code class="py keyword">+</code> <code class="py value">1</code><code class="py plain">)&nbsp;&nbsp; </code><code class="py comments"># устанавливаем новое значение</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number10 index9 alt1"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number11 index10 alt2"><code class="py plain">root.geometry(</code><code class="py string">"250x150"</code><code class="py plain">)</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="py plain">clicks </code><code class="py keyword">=</code> <code class="py plain">IntVar(value</code><code class="py keyword">=</code><code class="py value">0</code><code class="py plain">)&nbsp;&nbsp;&nbsp; </code><code class="py comments"># значение по умолчанию</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="py plain">btn </code><code class="py keyword">=</code> <code class="py plain">ttk.Button(textvariable</code><code class="py keyword">=</code><code class="py plain">clicks, command</code><code class="py keyword">=</code><code class="py plain">click_button)</code></div><div class="line number16 index15 alt1"><code class="py plain">btn.pack(anchor</code><code class="py keyword">=</code><code class="py plain">CENTER, expand</code><code class="py keyword">=</code><code class="py value">1</code><code class="py plain">)</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

![Изменение текста кнопки в Tkinter и Python](https://metanit.com/python/tkinter/2.3.php./pics/2.6.png)

### Отслеживание изменения переменной

Класс Stringvar позволяет отслеживать чтение и изменение своего значения. Для отслеживания у объекта StringVar вызывается метод trace\_add()

[?](https://metanit.com/python/tkinter/2.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">trace_add(trace_mode, function)</code></div></div></td></tr></tbody></table>

Первый параметр представляет отслеживаемое событие и может принимать следующие значения:

-   `write`: изменение значения
    
-   `read`: чтение значения
    
-   `unset`: удаление значения
    

Также можно передать список из этих значений, если нам надо отслеживать несколько событий.

Второй параметр представляет функцию, которая будет вызываться при возникновении события из первого параметра. Эта функция должна принимать один параметр.

Посмотрим на примере:

[?](https://metanit.com/python/tkinter/2.3.php#)

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py keyword">*</code></div><div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">tkinter </code><code class="py keyword">import</code> <code class="py plain">ttk</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="py keyword">def</code> <code class="py plain">check(</code><code class="py keyword">*</code><code class="py plain">args):</code></div><div class="line number5 index4 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py functions">print</code><code class="py plain">(name)</code></div><div class="line number6 index5 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">name.get()</code><code class="py keyword">=</code><code class="py keyword">=</code><code class="py string">"admin"</code><code class="py plain">:</code></div><div class="line number7 index6 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">result.</code><code class="py functions">set</code><code class="py plain">(</code><code class="py string">"запрещенное имя"</code><code class="py plain">)</code></div><div class="line number8 index7 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">else</code><code class="py plain">:</code></div><div class="line number9 index8 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">result.</code><code class="py functions">set</code><code class="py plain">(</code><code class="py string">"норм"</code><code class="py plain">)</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="py plain">root </code><code class="py keyword">=</code> <code class="py plain">Tk()</code></div><div class="line number12 index11 alt1"><code class="py plain">root.title(</code><code class="py string">"METANIT.COM"</code><code class="py plain">)</code></div><div class="line number13 index12 alt2"><code class="py plain">root.geometry(</code><code class="py string">"250x200"</code><code class="py plain">)</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="py plain">name </code><code class="py keyword">=</code> <code class="py plain">StringVar()</code></div><div class="line number16 index15 alt1"><code class="py plain">result </code><code class="py keyword">=</code> <code class="py plain">StringVar()</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="py plain">name_entry </code><code class="py keyword">=</code> <code class="py plain">ttk.Entry(textvariable</code><code class="py keyword">=</code><code class="py plain">name)</code></div><div class="line number19 index18 alt2"><code class="py plain">name_entry.pack(padx</code><code class="py keyword">=</code><code class="py value">5</code><code class="py plain">, pady</code><code class="py keyword">=</code><code class="py value">5</code><code class="py plain">, anchor</code><code class="py keyword">=</code><code class="py plain">NW)</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="py plain">check_label </code><code class="py keyword">=</code> <code class="py plain">ttk.Label(textvariable</code><code class="py keyword">=</code><code class="py plain">result)</code></div><div class="line number22 index21 alt1"><code class="py plain">check_label.pack(padx</code><code class="py keyword">=</code><code class="py value">5</code><code class="py plain">, pady</code><code class="py keyword">=</code><code class="py value">5</code><code class="py plain">, anchor</code><code class="py keyword">=</code><code class="py plain">NW)</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="py comments"># отслеживаем изменение значения переменной name</code></div><div class="line number25 index24 alt2"><code class="py plain">name.trace_add(</code><code class="py string">"write"</code><code class="py plain">, check)</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="py plain">root.mainloop()</code></div></div></td></tr></tbody></table>

В данном случае текстовое поле name\_entry привязано к переменной name, а метка check\_label - к переменной result.

Здесь мы отлеживаем изменение значения переменной name - при изменении срабатывает функция check, в которой изменяем переменную result в зависимости от значения name. Условимся, что name представляет имя пользователя, но имя "admin" запрещено.

![Отслеживание изменение переменной StringVar в tkinter и python](https://metanit.com/python/tkinter/2.3.php./pics/2.37.png)