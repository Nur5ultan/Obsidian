## Использование

После установки в Visual Studio Code "Black Formatter" будет доступен в качестве форматера для файлов python. Пожалуйста, выберите "Black Formatter" (идентификатор расширения:`ms-python.black-formatter`) в качестве форматера по умолчанию. Вы можете сделать это либо с помощью контекстного меню (щелкните правой кнопкой мыши на открытом файле python в редакторе) и выберите "Форматировать документ с помощью ...", либо вы можете добавить следующее в свои настройки:

```json
  "[python]": {
    "editor.defaultFormatter": "ms-python.black-formatter"
  }
```

и измените следующее, если оно установлено:

```json
  "python.formatting.provider": "none"
```

### Форматирование при сохранении

Вы можете включить форматирование при сохранении для python, указав в настройках следующие значения:

```json
  "[python]": {
    "editor.defaultFormatter": "ms-python.black-formatter",
    "editor.formatOnSave": true
  }
```

### Отключение форматирования с помощью `black`

Если вы хотите отключить Black formatter, вы можете [отключить это расширение](https://code.visualstudio.com/docs/editor/extension-marketplace#_disable-an-extension) для каждой рабочей области в Visual Studio Code.

## Настройки

|            Настройки             | По умолчанию |                                                                                                                                                        Описание                                                                                                                                                        |
|:--------------------------------:|:------------:|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|       black-formatter.args       |      []      |                                                                                                      Пользовательские аргументы передаются в `black`. Например `"black-formatter.args" = ["--config", "<file>"]`                                                                                                       |
|      black-formatter.trace       |    error     |                                                                                                                                   Устанавливает уровень трассировки для расширения.                                                                                                                                    |
|       black-formatter.path       |      []      | Настройка для предоставления пользовательского `black` исполняемого файла. Это замедлит форматирование, поскольку нам придется запускать `black` исполняемый файл при каждом сохранении или открытии файла. Пример 1: `["~/global_env/black"]` Пример 2: `["conda", "run", "-n", "lint_env", "python", "-m", "black"]` |
|   black-formatter.interpreter    |      []      |    Путь к интерпретатору python, который будет использоваться для запуска сервера linter. При значении `[]` интерпретатор для рабочей области получается из `ms-python.python` extension. Если задано значение некоторого пути, этот путь имеет приоритет, и расширение Python не запрашивается для интерпретатора     |
|  black-formatter.importStrategy  |  useBundled  |                                                                    Настройка для выбора, `black` откуда загружать. `useBundled` выбирается black, поставляемый в комплекте с расширением. `fromEnvironment` использует `black`, доступный в среде.                                                                     |
| black-formatter.showNotification |     off      |                                                                                                                                   Настройка для управления отображением уведомления.                                                                                                                                   |


## Команды
|         Команда          |                      Описание                      |
|:------------------------:|:--------------------------------------------------:|
| Black Formatter: Restart | Принудительно перезапустите сервер форматирования. |


## Ведение журнала

Используйте `Developer : Set Log Level...` команду из **Палитры команд** и выберите `Black Formatter` из списка расширений, чтобы задать уровень журнала для расширения. Для получения подробных трассировок LSP добавьте `"black-formatter.trace.server" : "verbose"` в свой файл **User** `settings.json` .
