Dataview не может запрашивать все содержимое вашего хранилища. Чтобы иметь возможность выполнять поиск, фильтровать и отображать содержимое, это содержимое должно быть **проиндексировано**. Некоторый контент индексируется автоматически, например маркированные пункты или списки задач - так называемые **неявные поля**, подробнее об этом ниже, - а другие данные необходимо сохранить в **поле** метаданных, чтобы они были доступны через dataview.

## Что такое "поле"?

Поле метаданных представляет собой пару **ключа** и **значения**. _Значение_ поля имеет тип данных (подробнее об этом [здесь](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/)), который определяет, как это поле будет вести себя при запросе к нему.

Вы можете добавить любое количество полей к **заметке**, **элементу списка** или **задаче**.

## Как мне добавить поля?

Поля в **заметку** можно добавлять тремя различными способами. Внешний вид поля зависит от способа его добавления.

Для **задач или элементов списка** у вас будет доступна информация о интерфейсе YAML, но вы не сможете добавить их к определенному элементу списка. Если вы хотите добавить метаданные только к одному элементу списка или задаче, используйте [встроенные поля](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#inline-fields).

### Frontmatter

Frontmatter - это распространенное расширение Markdown, которое позволяет добавлять метаданные YAML в начало страницы. Это изначально поддерживается Obsidian и объясняется в его [официальной документации](https://help.obsidian.md/Advanced+topics/YAML+front+matter). Все поля интерфейса YAML будут автоматически доступны как поля Dataview.

    `---     alias: "document"     last-reviewed: 2021-08-17     thoughts:       rating: 8       reviewable: false     ---`

При этом в вашей заметке появятся поля метаданных с именами `alias`, `last-reviewed` и `thoughts`. У каждого из них разные **типы данных**:

- `alias` это [текст](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#text), потому что он заключен в ""
- `last-reviewed` это [дата](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#date), поскольку оно соответствует стандарту ISO формат даты
- `thoughts` является полем [объекта](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#object), поскольку в нем используется синтаксис объекта YAML Frontmatter

Вы могли бы запросить эту заметку с помощью следующего запроса:

` ```dataview LIST WHERE thoughts.rating = 8 ``` `

### Встроенные поля

Для тех, кому нужны более естественно выглядящие аннотации, Dataview поддерживает "встроенные" поля с помощью `Key:: Value` синтаксиса, который вы можете использовать везде в вашем файле. Это позволяет вам записывать запрашиваемые данные именно там, где они вам нужны - например, в середине предложения.

Если в вашем встроенном поле есть отдельная строка без какого-либо содержимого заранее, вы можете записать ее следующим образом:

`# Markdown Page  Basic Field:: Some random Value **Bold Field**:: Nice!`

Все содержимое после `::` - это значение поля до следующего разрыва строки.

> [!note] Обратите внимание на `::`
>  Обратите внимание, что при использовании встроенных полей необходимо использовать двойное двоеточие `::` между ключом и значением, в отличие от полей интерфейса YAML, где достаточно одного двоеточия.

Если вы хотите встроить метаданные в предложения или несколько полей в одной строке, вы можете использовать синтаксис скобок и заключить свое поле в квадратные скобки:

`I would rate this a [rating:: 9]! It was [mood:: acceptable].`

> [!info]  Поля для элементов списка и задач
>  Когда вы хотите снабдить элемент списка, например, задачу, метаданными, вам всегда нужно использовать синтаксис скобок (поскольку поле - не единственная информация в этой строке)  
>  
> `- [ ] Send an mail to David about the deadline [due:: 2022-04-05].`
> 
>  Встроенные поля, заключенные в квадратные скобки, являются единственным способом явного добавления полей к определенным элементам списка, YAML frontmatter всегда применяется ко всей странице (но также доступен в контексте элементов списка).

Существует также альтернативный синтаксис круглых скобок, который скрывает ключ при отображении в режиме чтения:

`This will not show the (longKeyIDontNeedWhenReading:: key).`

будет отображаться в:

`This will not show the key.`

Вы можете использовать поля YAML Frontmatter и Inline со всеми вариантами синтаксиса вместе в одном файле. Вам не нужно выбирать один вариант и вы можете смешивать их в соответствии с вашим рабочим процессом.

## Имена полей

Представьте, что вы использовали все примеры для встроенных полей, которые вы видите выше, в одной заметке, тогда вам будут доступны следующие метаданные:

|Ключ метаданных|Очищенный ключ метаданных|Значение|Тип данных значения|
|---|---|---|---|
|`Basic Field`|`basic-field`|Некоторое случайное значение|Текст|
|`Bold Field`|`bold-field`|Отлично!|Текст|
|`rating`|-|9|Число|
|`mood`|-|приемлемо|Текст|
|`due`|-|Объект даты для 2022-04-05|Дата|
|`longKeyIDontNeedWhenReading`|`longkeyidontneedwhenreading`|Клавиша|Текст|

Как вы можете видеть в таблице, если вы используете **пробелы или заглавные буквы** в имени ключа метаданных, dataview предоставит вам **исправленную версию** ключа.

**Ключи с пробелами** не могут использоваться в запросе как есть. Здесь у вас есть две возможности: либо использовать очищенное имя, которое всегда должно быть в нижнем регистре и с тире вместо пробелов, либо использовать синтаксис переменной **row**. Узнайте больше [в разделе часто задаваемых вопросов](https://blacksmithgu.github.io/obsidian-dataview/resources/faq/).

**Ключи с заглавными буквами** при желании можно использовать как есть. Очищенная версия позволяет запрашивать ключ независимо от его заглавных букв и упрощает его использование: вы можете запрашивать одно и то же поле, которое есть, например, в одном файле с именем `someMetadata` и в другом `someMetaData` при использовании очищенного ключа `somemetadata`.

Кроме того, в поле, выделенном **жирным шрифтом, отсутствуют маркеры форматирования**. Несмотря на то, что `**`, используемые для выделения жирным шрифтом, являются частью имени ключа в файле, они не учитываются при индексации вашей заметки. То же самое касается всех других встроенных функций форматирования, таких как зачеркивание или курсив. Это означает, что форматированные ключи могут запрашиваться только без их форматирования. Это позволяет вам форматировать ключ в контексте заметки, не беспокоясь о том, что вы можете создать разные ключи для одного и того же типа информации.

### Usage of emojis and non-latin characters

Вы не ограничены использованием латинских символов при именовании полей метаданных. Вы можете использовать все символы, доступные в UTF-8:

`Noël:: Un jeu de console 
クリスマス:: 家庭用ゲーム機 
[🎅:: a console game] 
[xmas🎄:: a console game]`

**Использование смайликов в качестве ключей метаданных** возможно, но это сопряжено с некоторыми ограничениями. При использовании эмодзи в названиях полей их необходимо заключать в квадратные скобки, чтобы dataview правильно их распознал. Кроме того, пожалуйста, имейте в виду, что при переключении операционной системы (например, с Windows на Android) тот же эмодзи может использовать другой код символа, и вы можете не найти свои метаданные при запросе к ним.

> [!info]  Сокращения полей задач
>  Исключением из этого правила является [синтаксис сокращений](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/#field-shorthands) в задачах. Вы можете использовать сокращения без заключения в квадратные скобки. Пожалуйста, имейте в виду, что это учитывается только для перечисленных сокращений - в любом другом поле (с эмодзи или без) необходимо использовать `[key:: value]` синтаксис.

## Неявные поля

Даже если вы явно не добавляете какие-либо метаданные в свою заметку, dataview предоставляет вам большой объем индексированных данных "из коробки". Вот несколько примеров неявных полей:

- день создания файла (`file.cday`)
- ссылки в файле (`file.outlinks`)
- теги в файл (`file.etags`)
- все элементы списка в файле (`file.lists` и `file.tasks`)

и многое другое. Доступные неявные поля различаются в зависимости от того, просматриваете ли вы страницу или элемент списка. Найдите полный список доступных неявных полей в [метаданных на страницах](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-pages/) и [метаданных в задачах и списках](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/).