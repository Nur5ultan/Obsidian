
Dataview - это механизм оперативного индексирования и запросов к вашей личной базе знаний. Вы можете [**добавлять метаданные**](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/) к своим заметкам и **запрашивать** их с помощью [**языка запросов Dataview**](https://blacksmithgu.github.io/obsidian-dataview/queries/structure/) для составления списка, фильтрации, сортировки или группировки ваших данных. Dataview всегда обновляет ваши запросы и упрощает агрегирование данных.

Вы могли бы

- Отслеживайте свой сон, записывая его в ежедневные заметки, и автоматически создавайте еженедельные таблицы вашего расписания сна.
- Автоматически собирайте ссылки на книги в ваших заметках и отображайте их отсортированными по рейтингу.
- Автоматически собирает страницы, связанные с сегодняшней датой, и отображает их в вашей ежедневной заметке.
- Найдите страницы без тегов для последующего просмотра или покажите красивые виды страниц с определенными тегами.
- Создавайте динамические представления, которые показывают предстоящие дни рождения или события, записанные в ваших заметках

и многое другое.

> [!note] 
> Dataview предоставляет вам быстрый способ поиска, отображения и работы с индексированными данными в вашем хранилище! 

Dataview - это универсальный и высокопроизводительный инструмент, позволяющий без проблем масштабировать до сотен тысяч аннотированных заметок.

Если встроенного [языка запросов](https://blacksmithgu.github.io/obsidian-dataview/query/queries/) недостаточно для ваших целей, вы можете запустить произвольный JavaScript в [dataview API](https://blacksmithgu.github.io/obsidian-dataview/api/intro/) и создать любую утилиту, которая может вам понадобиться, самостоятельно, прямо в своих заметках.

> [!info]  Dataview предназначен для отображения, а не редактирования
> Dataview предназначен для отображения и вычисления данных. Он не предназначен для редактирования ваших заметок / метаданных и всегда оставляет их нетронутыми (... за исключением случаев, когда вы проверяете [задачу](https://blacksmithgu.github.io/obsidian-dataview/queries/query-types/#task-queries) через Dataview.) 

## Как использовать Dataview

Dataview состоит из двух больших строительных блоков: **индексирования данных** и **запроса данных**.

> [!info]  Более подробная информация на связанных страницах документации
>  Следующие разделы должны дать вам общее представление о том, что вы можете делать с dataview и как. Обязательно посетите связанные страницы, чтобы узнать больше об отдельных частях.

### Индексирование данных

Dataview работает с метаданными в ваших файлах Markdown. Он не может прочитать все содержимое вашего хранилища, а только определенные данные. Некоторые ваши материалы, такие как теги и маркированные пункты (включая задачи), [доступны автоматически](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#implicit-fields) в Dataview. Вы можете добавлять другие данные с помощью **полей** либо поверх вашего файла [согласно интерфейсу YAML](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#frontmatter), либо в середине вашего содержимого с помощью [встроенных полей](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#inline-fields) с помощью `[key:: value]` синтаксиса. Dataview _индексирует_ эти данные, чтобы сделать их доступными для запроса.

> [!note] 
> Dataview индексирует [определенную информацию](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#implicit-fields), такую как теги и элементы списка, а также данные, которые вы добавляете с помощью полей. В запросе Dataview доступны только индексированные данные!

Например, файл может выглядеть следующим образом:

`--- author: "Edgar Allan Poe" published: 1845 tags: poems ---  # The Raven  Once upon a midnight dreary, while I pondered, weak and weary, Over many a quaint and curious volume of forgotten lore—`

Или вот так:

`#poems  # The Raven  From [author:: Edgar Allan Poe], written in (published:: 1845)  Once upon a midnight dreary, while I pondered, weak and weary, Over many a quaint and curious volume of forgotten lore—`

С точки зрения индексированных метаданных (или того, что вы можете запросить), они идентичны и отличаются только стилем аннотаций. То, как вы хотите [аннотировать свои метаданные](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/), зависит от вас и ваших личных предпочтений. С этим файлом у вас будет доступно **поле метаданных** `author`, и все, что Dataview предоставляет вам [автоматически в виде неявных полей](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-pages/), таких как тег или заголовок заметки.

> [!note]  Данные должны быть проиндексированы
>  В приведенном выше примере у вас _нет_ самого стихотворения, доступного в Dataview: это абзац, поля метаданных нет, и Dataview ничего не индексирует автоматически. Это не часть индекса Dataviews, поэтому вы не сможете запросить его.

### Запрос данных

Вы можете получить доступ к **индексированным данным** с помощью **запросов**.

Существует **три различных способа** написания запроса: с помощью [языка запросов Dataview](https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline/#dataview-query-language-dql), в виде [встроенной инструкции](https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline#inline-dql) или наиболее гибким, но наиболее сложным способом: в виде [запроса Javascript](https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline#dataview-js).

**Язык запросов Dataview** (**DQL**) предоставляет вам широкий и мощный набор инструментов для запроса, отображения и работы с вашими данными. [**Встроенный запрос**](https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline#inline-dql) дает вам возможность отобразить ровно одно индексированное значение в любом месте вашей заметки. Вы также можете выполнять вычисления таким образом. Имея в своих руках **DQL**, вы, вероятно, прекрасно обойдетесь без какого-либо Javascript во время передачи данных.

Запрос DQL состоит из нескольких частей:

- Ровно один [**тип**](https://blacksmithgu.github.io/obsidian-dataview/queries/query-types/) запроса, который определяет, как выглядит вывод вашего запроса
- Нет или один оператор [**FROM**](https://blacksmithgu.github.io/obsidian-dataview/queries/data-commands#from) для выбора определенного тега или папки (или другого [источника](https://blacksmithgu.github.io/obsidian-dataview/reference/sources/)) для просмотра
- Нет для множества [**других команд данных**](https://blacksmithgu.github.io/obsidian-dataview/queries/data-commands/), которые помогают фильтровать, группировать и сортировать требуемые выходные данные

Например, Запрос может выглядеть следующим образом:

` ```dataview LIST ``` `

в котором перечислены все файлы в вашем хранилище.

> [!info]  Все, кроме типа запроса, является необязательным
>  Единственное, что вам нужно для корректного запроса DQL, - это тип запроса (а в [КАЛЕНДАРЯХ](https://blacksmithgu.github.io/obsidian-dataview/queries/query-types#calendar-queries) - поле даты).)

Более ограниченный запрос может выглядеть следующим образом:

` ```dataview LIST FROM #poems WHERE author = "Edgar Allan Poe" ``` `

в котором перечислены все файлы в вашем хранилище, у которых есть тег `#poems` и [поле](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/) с именем `author` со значением `Edgar Allan Poe`. Этот запрос приведет к поиску нашей страницы-примера, приведенной выше.

`LIST` это только один из четырех [типов запросов](https://blacksmithgu.github.io/obsidian-dataview/queries/query-types/), которые вы можете использовать. Например, с помощью a `TABLE` мы могли бы добавить к нашим выводам дополнительную информацию:

` ```dataview TABLE author, published, file.inlinks AS "Mentions" FROM #poems ``` `

Это вернет вам результат, подобный:

|Файл (3)|Автор|опубликовано|Упоминания|
|---|---|---|---|
|Колокола|Эдгар Аллан По|1849||
|Новый Колосс|Эмма Лазарус|1883|- [[Любимые стихи]]|
|Ворон|Эдгар Аллан По|1845|- [[Любимые стихи]]|

Однако на этом возможности dataview не заканчиваются. Вы также можете **оперировать своими данными** с помощью [**функций**](https://blacksmithgu.github.io/obsidian-dataview/reference/functions/). Имейте в виду, что эти операции выполняются только внутри вашего запроса - ваши **данные в файлах остаются нетронутыми**.

` ```dataview TABLE author, date(now).year - published AS "Age in Yrs", length(file.inlinks) AS "Counts of Mentions" FROM #poems ``` `

возвращает вам

| Файл (3)     | Автор          | Возраст в годах | Количество упоминаний |
| ------------ | -------------- | --------------- | --------------------- |
| Колокола     | Эдгар Аллан По | 173             | 0                     |
| Новый Колосс | Эмма Лазарус   | 139             | 1                     |
| Ворон        | Эдгар Аллан По | 177             | 1                     |

> [!info] 
> Найдите больше примеров [здесь](https://blacksmithgu.github.io/obsidian-dataview/resources/examples/).

Как вы можете видеть, dataview не только позволяет вам быстро агрегировать ваши данные и всегда обновлять их, он также может помочь вам в операциях, чтобы дать вам новое представление о вашем наборе данных. Просмотрите документацию, чтобы узнать больше о том, как взаимодействовать с вашими данными.

Получайте удовольствие, исследуя свое хранилище новыми способами!

## Ресурсы и помощь

Эта документация - не единственное место, которое может помочь вам в работе с данными. Ознакомьтесь со списком полезных страниц и видеороликов в [ресурсах и службе поддержки](https://blacksmithgu.github.io/obsidian-dataview/resources/resources-and-support/).