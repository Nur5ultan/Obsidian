## Типы полей

Все поля в dataview имеют **тип**, который определяет, как dataview будет отображать, сортировать и работать с этим полем. Подробнее о том, как создавать поля в ["Добавлении метаданных"](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/) и какая информация автоматически доступна в [метаданных на страницах](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-pages/) и [метаданных в задачах и списках](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/), читайте здесь.

## Почему тип имеет значение?

Dataview предоставляет [функции](https://blacksmithgu.github.io/obsidian-dataview/reference/functions/), которые вы можете использовать для изменения ваших метаданных, и позволяет вам писать всевозможные сложные запросы. Для корректной работы определенных функций требуются определенные типы данных. Это означает, что тип данных вашего поля определяет, какие функции вы можете использовать в этих полях и как ведут себя функции. Кроме того, в зависимости от типа выходные данные dataview могут отличаться.

Большую часть времени вам не нужно слишком беспокоиться о типе ваших полей, но если вы хотите выполнять вычисления и другие волшебные операции со своими данными, вы должны знать о них.

Различная визуализация в зависимости от типа

Если у вас есть этот файл:

```
date1:: 2021-02-26T15:15
date2:: 2021-04-17 18:00

```dataview
TABLE date1, date2
WHERE file = this.file
```

```

Вы увидите следующие выходные данные (в зависимости от настроек формата даты + времени для dataview):

`date1` распознается как **Дата**, в то время как `date2` является обычным **текстом** в dataview, поэтому `date1` для вас анализируется по-другому. Узнайте больше о [датах, приведенных ниже](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#date).

## Доступные типы полей

Dataview знает несколько типов полей для покрытия распространенных случаев использования.

### Текст

Универсальный параметр по умолчанию. Если поле не соответствует более конкретному типу, это обычный текст.

```
Example:: This is some normal text.

```

Многострочный текст

Многострочный текст в качестве значения возможен только с помощью YAML Frontmatter и оператора pipe:

```
---
poem: |
  Because I could not stop for Death,
  He kindly stopped for me;
  The carriage held but just ourselves
  And Immortality.
author: "[[Emily Dickinson]]"
title: "Because I could not stop for Death"
---

```

Для встроенных полей разрыв строки означает конец значения.

### Количество

Такие числа, как "6" и "3.6".

```
Example:: 6
Example:: 2.4
Example:: -80

```

В YAML Frontmatter вы вводите число без кавычек:

```
---
rating: 8
description: "A nice little horror movie"
---

```

### Логическое значение

Boolean знает только два значения: true или false, как концепция программирования.

```
Example:: true
Example:: false

```

### Дата

Текст, соответствующий обозначению ISO8601, будет автоматически преобразован в объект даты. [ISO8601](https://en.wikipedia.org/wiki/ISO_8601) соответствует формату `YYYY-MM[-DDTHH:mm:ss.nnn+ZZ]`. Все, что указано после месяца, необязательно.

```
Example:: 2021-04 
Example:: 2021-04-18
Example:: 2021-04-18T04:19:35.000
Example:: 2021-04-18T04:19:35.000+06:30

```

При запросе этих дат вы можете получить доступ к свойствам, которые возвращают вам определенную часть вашей даты:

-   поле.год
-   поле.месяц
-   поле.год недели
-   поле.неделя
-   поле.день недели
-   поле.день
-   поле.час
-   поле.минута
-   поле.второе
-   поле.миллисекунда

Например, если вас интересует, в каком месяце находится ваша дата, вы можете получить к ней доступ через `datefield.month`:

```
birthday:: 2001-06-11

```dataview
LIST birthday
WHERE birthday.month = date(now).month
```

```

возвращает вам все дни рождения, происходящие в этом месяце. Интересно `date(now)`? Подробнее об этом читайте в разделе [литералы](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#dates).

Отображение объектов даты

Dataview отображает объекты даты в удобочитаемом формате, т.е. `3:15 PM - February 26, 2021`. Вы можете настроить внешний вид этого формата в настройках Dataview в разделе "Общие" с помощью "Формат даты" и "Формат даты + времени". Если вы хотите настроить формат только в определенном запросе, используйте [функцию dateformat](https://blacksmithgu.github.io/obsidian-dataview/reference/functions/#dateformatdatedatetime-string).

### Продолжительность

Длительности представляют собой текст формы `<time> <unit>`, например `6 hours` или `4 minutes`. Принимаются общепринятые английские сокращения, такие как `6hrs` or `2m`. В одном поле можно указать несколько единиц измерения, т.е. `6hr 4min` необязательно с разделителем через запятую: `6 hours, 4 minutes`

```
Example:: 7 hours
Example:: 16days
Example:: 4min
Example:: 6hr7min
Example:: 9 years, 8 months, 4 days, 16 hours, 2 minutes
Example:: 9 yrs 8 min

```

Найдите полный список значений, которые распознаются как длительность в [литералах](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#durations).

Вычисления с датами и длительностью

Типы даты и длительности совместимы друг с другом. Это означает, что вы можете, например, добавить длительности к дате, чтобы получить новую дату:

```
departure:: 2022-10-07T15:15
length of travel:: 1 day, 3 hours

**Arrival**: `= this.departure + this.length-of-travel`

```

и вы получаете обратно длительность при вычислении с использованием дат:

```
release-date:: 2023-02-14T12:00

`= this.release-date - date(now)` until release!!

```

Вам интересно `date(now)`? Подробнее об этом читайте в разделе [литералы](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#dates).

### Ссылка

Ссылки Obsidian типа `[[Page]]` или `[[Page|Page Display]]`.

```
Example:: [[A Page]]
Example:: [[Some Other Page|Render Text]]

```

Ссылки в интерфейсе YAML

Если вы ссылаетесь на ссылку во frontmatter, вам нужно заключить ее в кавычки, например: `key: "[[Link]]"`. Это поведение по умолчанию поддерживается Obsidian. Ссылки без кавычек ведут к недопустимому интерфейсу YAML, который больше не может быть проанализирован.

```
---
parent: "[[parentPage]]"
---

```

Пожалуйста, имейте в виду, что это только ссылка для dataview, но больше не для Obsidian - это означает, что она не будет отображаться в исходящих ссылках, не будет отображаться в графическом представлении и не будет обновляться, т.е. при переименовании.

### Список

Списки - это многозначные поля. В YAML они определяются как обычные списки YAML:

```
---
key3: [one, two, three]
key4:
 - four
 - five
 - six
---

```

Во встроенных полях они представляют собой списки значений, разделенных запятыми:

```
Example1:: 1, 2, 3
Example2:: "yes", "or", "no"

```

Пожалуйста, имейте в виду, что во встроенных полях вам необходимо заключать **текстовые значения в кавычки**, чтобы они распознавались как список (см. `Example2`). `yes, or, no` распознается как обычный текст.

Дублирующиеся ключи метаданных в одном файле приводят к созданию списков

Если вы используете ключ метаданных дважды или более в одной заметке, dataview соберет все значения и предоставит вам список. Например

```
grocery:: flour
[...]
grocery:: soap

```dataview
LIST grocery
WHERE file = this.file
```

```

предоставит вам

**список**

из

`flour`

и

`soap`

обратно.

Массивы - это списки

В некоторых местах этой документации вы прочтете термин "массив". Массив - это термин, обозначающий списки в Javascript - списки и массивы - это одно и то же. Функции, которой в качестве аргумента требуется массив, в качестве аргумента необходим список.

### Объект

Объекты представляют собой отображение нескольких полей в одном родительском поле. Они могут быть определены только в YAML frontmatter, используя синтаксис объекта YAML:

```

```
---
obj:
  key1: "Val"
  key2: 3
  key3: 
    - "List1"
    - "List2"
    - "List3"
---
```

Затем в запросах вы можете получить доступ к этим дочерним значениям через `obj.key1` etc:

```
```dataview
TABLE obj.key1, obj.key2, obj.key3
WHERE file = this.file
```
